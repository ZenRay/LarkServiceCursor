# Git å·¥ä½œæµç¨‹ä¸åˆ†æ”¯ç®¡ç†

**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¶é—´**: 2026-01-15  
**çŠ¶æ€**: Production Ready

---

## ğŸŒ³ åˆ†æ”¯ç­–ç•¥

### åˆ†æ”¯æ¨¡å‹

é‡‡ç”¨ **Speckit åˆ†æ”¯ç­–ç•¥** - åŸºäºæ•°å­—å‰ç¼€çš„åŠŸèƒ½åˆ†æ”¯æ¨¡å‹:

```
main (ç”Ÿäº§åˆ†æ”¯)
  â”œâ”€â”€ 001-lark-service-core (åŠŸèƒ½åˆ†æ”¯ - Phase 1-2)
  â”œâ”€â”€ 002-messaging-service (åŠŸèƒ½åˆ†æ”¯ - Phase 3)
  â”œâ”€â”€ 003-document-integration (åŠŸèƒ½åˆ†æ”¯ - Phase 4)
  â”œâ”€â”€ release/v0.2.0 (å‘å¸ƒåˆ†æ”¯)
  â””â”€â”€ hotfix/v0.1.1-security (çƒ­ä¿®å¤åˆ†æ”¯)
```

### åˆ†æ”¯ç±»å‹ä¸è§„èŒƒ

| åˆ†æ”¯ç±»å‹ | å‘½åè§„èŒƒ | ç”Ÿå‘½å‘¨æœŸ | åˆå¹¶ç›®æ ‡ | è¯´æ˜ |
|---------|---------|---------|---------|------|
| **main** | `main` | æ°¸ä¹… | - | ç”Ÿäº§ä»£ç  |
| **åŠŸèƒ½åˆ†æ”¯** | `NNN-<æè¿°>` | ä¸´æ—¶ | main | Speckit ç®¡ç† |
| **release** | `release/v<ç‰ˆæœ¬>` | ä¸´æ—¶ | main | å‘å¸ƒå‡†å¤‡ |
| **hotfix** | `hotfix/v<ç‰ˆæœ¬>-<æè¿°>` | ä¸´æ—¶ | main | ç´§æ€¥ä¿®å¤ |

**æ³¨æ„**: 
- `NNN` æ˜¯3ä½æ•°å­—å‰ç¼€ (å¦‚ `001`, `002`, `003`)
- åŠŸèƒ½åˆ†æ”¯ç”± `/speckit.specify` å‘½ä»¤è‡ªåŠ¨åˆ›å»º
- æ¯ä¸ªåŠŸèƒ½åˆ†æ”¯å¯¹åº” `specs/NNN-<æè¿°>/` ç›®å½•

### åˆ†æ”¯è¯¦ç»†è¯´æ˜

#### 1. main (ä¸»åˆ†æ”¯)

**ç”¨é€”**: ç”Ÿäº§å°±ç»ªä»£ç ,æ¯ä¸ªæäº¤éƒ½æ˜¯ä¸€ä¸ªå¯å‘å¸ƒç‰ˆæœ¬

**ä¿æŠ¤è§„åˆ™**:
- âœ… ç¦æ­¢ç›´æ¥æ¨é€
- âœ… å¿…é¡»é€šè¿‡ PR
- âœ… è‡³å°‘ 1 äººä»£ç å®¡æŸ¥
- âœ… CI å¿…é¡»é€šè¿‡
- âœ… å¿…é¡»ç­¾åæäº¤ (å¯é€‰)

**æ ‡ç­¾ç­–ç•¥**:
```bash
# æ¯æ¬¡åˆå¹¶åˆ° main éƒ½æ‰“æ ‡ç­¾
git tag -a v0.1.0 -m "Release v0.1.0: Phase 1-2 å®Œæˆ"
git push origin v0.1.0
```

#### 2. NNN-<æè¿°> (Speckit åŠŸèƒ½åˆ†æ”¯)

**å‘½åè§„èŒƒ**: `NNN-<short-description>`
- `NNN`: 3ä½é€’å¢æ•°å­— (001, 002, 003...)
- `<short-description>`: 2-4 ä¸ªå…³é”®è¯,è¿å­—ç¬¦åˆ†éš”

**å‘½åç¤ºä¾‹**:
```
001-lark-service-core
002-messaging-service
003-document-integration
004-user-auth-enhancement
```

**åˆ›å»ºæ–¹å¼** (ä½¿ç”¨ Speckit):
```bash
# æ–¹å¼ 1: è‡ªåŠ¨ç”Ÿæˆåˆ†æ”¯å
/speckit.specify "Implement messaging service for group chats"
# åˆ›å»º: 002-messaging-service

# æ–¹å¼ 2: æŒ‡å®šçŸ­åç§°
/speckit.specify "Add OAuth2 authentication" --short-name "user-auth"
# åˆ›å»º: 003-user-auth

# æ–¹å¼ 3: æŒ‡å®šåˆ†æ”¯å·
/speckit.specify "Performance optimization" --number 5
# åˆ›å»º: 005-performance-optimization
```

**åˆ†æ”¯ç»“æ„**:
```
é¡¹ç›®æ ¹ç›®å½•/
  â”œâ”€â”€ specs/
  â”‚   â”œâ”€â”€ 001-lark-service-core/
  â”‚   â”‚   â”œâ”€â”€ spec.md            (éœ€æ±‚è§„èŒƒ)
  â”‚   â”‚   â”œâ”€â”€ plan.md            (å®æ–½è®¡åˆ’)
  â”‚   â”‚   â”œâ”€â”€ tasks.md           (ä»»åŠ¡æ¸…å•)
  â”‚   â”‚   â””â”€â”€ checklists/        (æ£€æŸ¥æ¸…å•)
  â”‚   â”œâ”€â”€ 002-messaging-service/
  â”‚   â””â”€â”€ 003-document-integration/
```

**å·¥ä½œæµç¨‹**:
```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (Speckit è‡ªåŠ¨åˆ›å»º)
/speckit.specify "Implement messaging service"
# â†’ åˆ›å»ºåˆ†æ”¯: 002-messaging-service
# â†’ åˆ›å»ºç›®å½•: specs/002-messaging-service/
# â†’ åˆ›å»ºæ–‡ä»¶: spec.md, plan.md, tasks.md

# 2. ç¼–å†™è§„èŒƒå’Œè®¡åˆ’
/speckit.plan     # ç”Ÿæˆå®æ–½è®¡åˆ’
/speckit.tasks    # ç”Ÿæˆä»»åŠ¡æ¸…å•

# 3. å¼€å‘åŠŸèƒ½
git add .
git commit -m "feat(messaging): å®ç°æ¶ˆæ¯å‘é€æ¥å£"

# 4. å®šæœŸåŒæ­¥ main
git fetch origin main
git rebase origin/main

# 5. æ¨é€åˆ°è¿œç¨‹
git push -u origin 002-messaging-service

# 6. åˆ›å»º PR: 002-messaging-service â†’ main
# (é€šè¿‡ GitHub ç•Œé¢)

# 7. åˆå¹¶ååˆ é™¤åˆ†æ”¯
git checkout main
git pull
git branch -d 002-messaging-service
```

**å¤šåˆ†æ”¯å…±äº«åŒä¸€ Spec**:

Speckit æ”¯æŒå¤šä¸ªåˆ†æ”¯å…±äº«åŒä¸€ä¸ª spec ç›®å½•:

```bash
# ä¸»åŠŸèƒ½åˆ†æ”¯
001-lark-service-core

# åŸºäºåŒä¸€ spec çš„å…¶ä»–åˆ†æ”¯
001-fix-token-bug
001-add-metrics
001-refactor-storage

# å®ƒä»¬éƒ½ä½¿ç”¨ specs/001-lark-service-core/ ç›®å½•
```

#### 3. release/* (å‘å¸ƒåˆ†æ”¯)

**ç”¨é€”**: å‡†å¤‡æ–°ç‰ˆæœ¬å‘å¸ƒ,ä»…å…è®¸ bug ä¿®å¤å’Œç‰ˆæœ¬å·æ›´æ–°

**å‘½åè§„èŒƒ**: `release/v<ç‰ˆæœ¬å·>`

**å·¥ä½œæµç¨‹**:
```bash
# 1. ä» main åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout main
git pull origin main
git checkout -b release/v0.2.0

# 2. æ›´æ–°ç‰ˆæœ¬å·
echo "0.2.0" > VERSION
git commit -am "chore: bump version to 0.2.0"

# 3. æœ€åçš„ bug ä¿®å¤
git commit -m "fix: ä¿®å¤å‘å¸ƒå‰å‘ç°çš„é—®é¢˜"

# 4. åˆå¹¶åˆ° main å¹¶æ‰“æ ‡ç­¾
git checkout main
git merge --no-ff release/v0.2.0
git tag -a v0.2.0 -m "Release v0.2.0"
git push origin main --tags

# 5. åˆ é™¤å‘å¸ƒåˆ†æ”¯
git branch -d release/v0.2.0
git push origin --delete release/v0.2.0
```

#### 4. hotfix/* (çƒ­ä¿®å¤åˆ†æ”¯)

**ç”¨é€”**: ç´§æ€¥ä¿®å¤ç”Ÿäº§ç¯å¢ƒé—®é¢˜

**å‘½åè§„èŒƒ**: `hotfix/v<ç‰ˆæœ¬å·>-<æè¿°>`

**å·¥ä½œæµç¨‹**:
```bash
# 1. ä» main åˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b hotfix/v0.1.1-security-fix

# 2. ä¿®å¤é—®é¢˜
git commit -m "fix(security): ä¿®å¤ SQL æ³¨å…¥æ¼æ´"

# 3. åˆå¹¶åˆ° main å¹¶æ‰“è¡¥ä¸æ ‡ç­¾
git checkout main
git merge --no-ff hotfix/v0.1.1-security-fix
git tag -a v0.1.1 -m "Hotfix v0.1.1: å®‰å…¨ä¿®å¤"
git push origin main --tags

# 4. åˆ é™¤çƒ­ä¿®å¤åˆ†æ”¯
git branch -d hotfix/v0.1.1-security-fix
git push origin --delete hotfix/v0.1.1-security-fix
```

---

## ğŸ·ï¸ æ ‡ç­¾è§„èŒƒ (CHK115)

### è¯­ä¹‰åŒ–ç‰ˆæœ¬ (SemVer)

æ ¼å¼: `v<ä¸»ç‰ˆæœ¬>.<æ¬¡ç‰ˆæœ¬>.<è¡¥ä¸ç‰ˆæœ¬>`

```
v0.1.0 - Phase 1-2 å®Œæˆ (åˆå§‹ç‰ˆæœ¬)
v0.2.0 - Phase 3 å®Œæˆ (æ–°å¢æ¶ˆæ¯åŠŸèƒ½)
v0.2.1 - ä¿®å¤ Token åˆ·æ–° Bug (è¡¥ä¸)
v0.3.0 - Phase 4 å®Œæˆ (æ–°å¢æ–‡æ¡£åŠŸèƒ½)
v1.0.0 - ç”Ÿäº§å°±ç»ª (ç¨³å®šç‰ˆæœ¬)
```

### ç‰ˆæœ¬å·è§„åˆ™

| ç‰ˆæœ¬ç±»å‹ | ä½•æ—¶é€’å¢ | ç¤ºä¾‹ |
|---------|---------|------|
| **ä¸»ç‰ˆæœ¬** | ä¸å…¼å®¹çš„ API å˜æ›´ | 0.x.x â†’ 1.0.0 |
| **æ¬¡ç‰ˆæœ¬** | å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢ | 0.1.x â†’ 0.2.0 |
| **è¡¥ä¸ç‰ˆæœ¬** | å‘åå…¼å®¹çš„ bug ä¿®å¤ | 0.1.0 â†’ 0.1.1 |

### æ ‡ç­¾åˆ›å»ºå‘½ä»¤

```bash
# è½»é‡æ ‡ç­¾ (ä¸æ¨è)
git tag v0.1.0

# é™„æ³¨æ ‡ç­¾ (æ¨è)
git tag -a v0.1.0 -m "Release v0.1.0: Phase 1-2 å®Œæˆ

- âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ… Token ç®¡ç†æ± 
- âœ… SQLAlchemy 2.0 å‡çº§
- âœ… 77.33% æµ‹è¯•è¦†ç›–ç‡
- âœ… å®‰å…¨åˆè§„ (FR-077~095)
"

# æ¨é€æ ‡ç­¾
git push origin v0.1.0

# æ¨é€æ‰€æœ‰æ ‡ç­¾
git push origin --tags
```

### Phase æ ‡ç­¾ç­–ç•¥

| Phase | åˆ†æ”¯ | æ ‡ç­¾ | è¯´æ˜ |
|-------|------|------|------|
| Phase 1-2 | `001-lark-service-core` | v0.1.0 | åŸºç¡€è®¾æ–½ + Token ç®¡ç† |
| Phase 3 | `002-messaging-service` | v0.2.0 | æ¶ˆæ¯æœåŠ¡ |
| Phase 4 | `003-document-integration` | v0.3.0 | æ–‡æ¡£+é€šè®¯å½• |
| Phase 5 | `004-apaas-features` | v0.4.0 | aPaaS åŠŸèƒ½ |
| Stable | - | v1.0.0 | ç”Ÿäº§å°±ç»ª |

**åˆ†æ”¯ä¸æ ‡ç­¾å¯¹åº”å…³ç³»**:
```bash
# Phase 1-2 å®Œæˆ
git checkout main
git merge --no-ff 001-lark-service-core
git tag -a v0.1.0 -m "Release v0.1.0: Phase 1-2 å®Œæˆ"

# Phase 3 å®Œæˆ
git merge --no-ff 002-messaging-service
git tag -a v0.2.0 -m "Release v0.2.0: Phase 3 æ¶ˆæ¯æœåŠ¡"

# ä»¥æ­¤ç±»æ¨...
```

---

## ğŸ“¦ æäº¤è§„èŒƒ

### Conventional Commits

æ ¼å¼: `<ç±»å‹>(<èŒƒå›´>): <æè¿°>`

```
feat(messaging): å®ç°æ¶ˆæ¯å‘é€æ¥å£
fix(token): ä¿®å¤ Token åˆ·æ–°é€»è¾‘
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
style(core): æ ¼å¼åŒ–ä»£ç 
refactor(storage): é‡æ„æ•°æ®åº“è¿æ¥æ± 
test(cli): æ·»åŠ  CLI å•å…ƒæµ‹è¯•
chore(deps): å‡çº§ SQLAlchemy åˆ° 2.0.25
```

### æäº¤ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **feat** | æ–°åŠŸèƒ½ | `feat(auth): æ·»åŠ  OAuth 2.0 æ”¯æŒ` |
| **fix** | Bug ä¿®å¤ | `fix(token): ä¿®å¤è¿‡æœŸåˆ¤æ–­é€»è¾‘` |
| **docs** | æ–‡æ¡£å˜æ›´ | `docs(api): æ›´æ–° API æ–‡æ¡£` |
| **style** | ä»£ç æ ¼å¼ | `style: è¿è¡Œ ruff format` |
| **refactor** | é‡æ„ | `refactor(db): ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½` |
| **test** | æµ‹è¯• | `test(unit): æ·»åŠ  CredentialPool æµ‹è¯•` |
| **chore** | æ„å»º/å·¥å…· | `chore(ci): æ·»åŠ  GitHub Actions` |
| **perf** | æ€§èƒ½ä¼˜åŒ– | `perf(cache): ä½¿ç”¨ Redis ç¼“å­˜` |

### æäº¤æè¿°è§„èŒƒ

**å¥½çš„æäº¤**:
```bash
âœ… feat(messaging): å®ç°ç¾¤æ¶ˆæ¯å‘é€åŠŸèƒ½

- æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€å¡ç‰‡æ¶ˆæ¯
- å®ç°æ‰¹é‡å‘é€æ¥å£
- æ·»åŠ æ¶ˆæ¯å‘é€é™æµä¿æŠ¤

Closes #42
```

**å·®çš„æäº¤**:
```bash
âŒ update
âŒ fix bug
âŒ ä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶
```

---

## ğŸ”„ Phase è¿‡æ¸¡æµç¨‹ (CHK117)

### Phase å®Œæˆæ ‡å‡†

#### Phase 1 â†’ Phase 2 è¿‡æ¸¡æ ‡å‡† â­

**å¿…é¡»æ»¡è¶³ (P1 - Blocker)**:
- [ ] **Blocker Gap = 0** - æ— å…³é”®é˜»å¡é—®é¢˜
- [ ] **Major Gap â‰¤ 3** - é‡å¤§é—®é¢˜å·²åŸºæœ¬è§£å†³
- [ ] **æµ‹è¯•è¦†ç›–ç‡ â‰¥ 60%** - æ ¸å¿ƒæ¨¡å—æµ‹è¯•å……åˆ†
- [ ] **æ€§èƒ½åŸºçº¿å·²å»ºç«‹** - Tokenåˆ·æ–° < 100ms, APIååé‡ â‰¥ 100 req/s
- [ ] **CI å…¨éƒ¨é€šè¿‡** - ä»£ç è´¨é‡ã€å®‰å…¨æ‰«ææ— é”™è¯¯
- [ ] **Phase 1-2 è¿‡æ¸¡æ ‡å‡†å·²å®šä¹‰** - æœ¬æ–‡æ¡£æ›´æ–°å®Œæˆ

**åº”å½“æ»¡è¶³ (P2 - Major)**:
- [ ] å¯åŠ¨å¤±è´¥å›æ»šç­–ç•¥å·²å®šä¹‰
- [ ] æ•…éšœæ’æŸ¥æ–‡æ¡£å·²åˆ›å»º
- [ ] æ„å»ºæ—¶é—´åŸºçº¿å·²å»ºç«‹

**å¯é€‰æ»¡è¶³ (P3 - Minor)**:
- [ ] è¾¹ç•Œæ¡ä»¶è¦†ç›–å®Œå–„
- [ ] æŠ€æœ¯å€ºåŠ¡ç®¡ç†æœºåˆ¶å»ºç«‹

**éªŒæ”¶å†³ç­–**:
- âœ… **é€šè¿‡**: æ‰€æœ‰ P1 æ¡ä»¶æ»¡è¶³ + P2 æ¡ä»¶ â‰¥ 80%
- âš ï¸ **æœ‰æ¡ä»¶é€šè¿‡**: æ‰€æœ‰ P1 æ¡ä»¶æ»¡è¶³ + P2 æ¡ä»¶ â‰¥ 50%
- âŒ **ä¸é€šè¿‡**: P1 æ¡ä»¶ < 100%

**å½“å‰çŠ¶æ€**: 
- ç»¼åˆè¯„åˆ†: 82%
- Blocker: 0 é¡¹ âœ…
- Major Gap: 8 é¡¹ âš ï¸
- å†³ç­–: **æœ‰æ¡ä»¶é€šè¿‡** (å®Œæˆ P1 åå¯è¿›å…¥ Phase 2)

---

#### Phase 1-2 å®Œæˆæ£€æŸ¥æ¸…å• (å†å²å‚è€ƒ)

**åŠŸèƒ½å®Œæ•´æ€§**:
- [x] æ‰€æœ‰ T001-T015 ä»»åŠ¡å®Œæˆ
- [x] æ‰€æœ‰éªŒæ”¶æ ‡å‡†è¾¾æ ‡
- [x] æ—  Blocker å’Œ Major Gap

**è´¨é‡æ ‡å‡†**:
- [x] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 75%
- [x] Mypy è¦†ç›–ç‡ â‰¥ 99%
- [x] 0 ä¸ª Ruff é”™è¯¯
- [x] CI å…¨éƒ¨é€šè¿‡

**æ–‡æ¡£å®Œæ•´æ€§**:
- [x] README å®Œå–„
- [x] API æ–‡æ¡£å®Œæ•´
- [x] æ¶æ„æ–‡æ¡£æ›´æ–°
- [x] éƒ¨ç½²æ–‡æ¡£å®Œå–„

**å®‰å…¨åˆè§„**:
- [x] FR-077~095 å…¨éƒ¨å®ç°
- [x] ä¾èµ–å®‰å…¨æ‰«æé€šè¿‡
- [x] å®¹å™¨å®‰å…¨æ‰«æé€šè¿‡

#### Phase è¿‡æ¸¡æµç¨‹

```
Phase N å¼€å‘ â†’ è‡ªæµ‹è¯• â†’ Code Review â†’ CI/CD â†’ Phase éªŒæ”¶ â†’ æ‰“æ ‡ç­¾ â†’ å¯åŠ¨ Phase N+1
```

**è¯¦ç»†æ­¥éª¤**:

1. **è‡ªæµ‹è¯•** (å¼€å‘è€…)
   ```bash
   # åˆ‡æ¢åˆ°åŠŸèƒ½åˆ†æ”¯
   git checkout 001-lark-service-core
   
   # è¿è¡Œæµ‹è¯•
   pytest tests/ --cov=src
   
   # æ£€æŸ¥ç±»å‹
   mypy src/
   
   # æ£€æŸ¥ä»£ç é£æ ¼
   ruff check src/
   
   # æ£€æŸ¥æ–‡æ¡£
   pydocstyle src/
   
   # è¿è¡Œ Speckit æ£€æŸ¥æ¸…å•
   /speckit.checklist
   ```

2. **ä»£ç å®¡æŸ¥** (å›¢é˜Ÿ)
   - åˆ›å»º PR: `001-lark-service-core â†’ main`
   - è‡³å°‘ 1 äººå®¡æŸ¥
   - è§£å†³æ‰€æœ‰è¯„è®º
   - ç¡®ä¿ `specs/001-lark-service-core/` æ–‡æ¡£å®Œæ•´

3. **CI/CD éªŒè¯** (è‡ªåŠ¨)
   - æµ‹è¯•é€šè¿‡
   - è¦†ç›–ç‡è¾¾æ ‡
   - ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡
   - å®‰å…¨æ‰«æé€šè¿‡

4. **Phase éªŒæ”¶** (æŠ€æœ¯è´Ÿè´£äºº)
   - è¿è¡Œ Speckit æ£€æŸ¥æ¸…å•
   - éªŒè¯ `specs/001-lark-service-core/` äº¤ä»˜ç‰©
   - æ£€æŸ¥ `spec.md`, `plan.md`, `tasks.md` å®Œæˆåº¦
   - æ›´æ–°æ–‡æ¡£

5. **æ‰“æ ‡ç­¾å‘å¸ƒ** (ç»´æŠ¤è€…)
   ```bash
   git checkout main
   git pull origin main
   git merge --no-ff 001-lark-service-core
   git tag -a v0.1.0 -m "Release v0.1.0: Phase 1-2 å®Œæˆ

   - âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ
   - âœ… Token ç®¡ç†æ± 
   - âœ… æµ‹è¯•è¦†ç›–ç‡ 77.33%
   - âœ… å®‰å…¨åˆè§„ (FR-077~095)
   
   Spec: specs/001-lark-service-core/
   "
   git push origin main --tags
   
   # å¯é€‰: åˆ é™¤å·²åˆå¹¶çš„åŠŸèƒ½åˆ†æ”¯
   git branch -d 001-lark-service-core
   git push origin --delete 001-lark-service-core
   ```

6. **å¯åŠ¨ä¸‹ä¸€ Phase**
   ```bash
   # ä½¿ç”¨ Speckit åˆ›å»ºä¸‹ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯
   /speckit.specify "Implement messaging service for group chats"
   # â†’ åˆ›å»º: 002-messaging-service
   # â†’ åˆ›å»º: specs/002-messaging-service/
   
   # ç¼–å†™è§„èŒƒ
   /speckit.plan
   /speckit.tasks
   
   # åˆ†é…ä»»åŠ¡ç»™å›¢é˜Ÿ
   ```

### Phase è¿‡æ¸¡æ¡ä»¶çŸ©é˜µ

| ä» Phase | åˆ° Phase | å¿…è¦æ¡ä»¶ | å»ºè®®æ¡ä»¶ | éªŒæ”¶æ ‡å‡† |
|---------|---------|---------|---------|---------|
| **Phase 1** | **Phase 2** | â€¢ Blocker Gap = 0<br>â€¢ Major Gap â‰¤ 3<br>â€¢ æµ‹è¯•è¦†ç›–ç‡ â‰¥ 60%<br>â€¢ æ€§èƒ½åŸºçº¿å·²å»ºç«‹<br>â€¢ CI å…¨éƒ¨é€šè¿‡ | â€¢ æµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%<br>â€¢ æ•…éšœæ’æŸ¥æ–‡æ¡£å®Œå–„<br>â€¢ æ„å»ºæ—¶é—´åŸºçº¿å»ºç«‹ | **æœ‰æ¡ä»¶é€šè¿‡**<br>è¯„åˆ†: 82%<br>P1 å®Œæˆåå¯è¿›å…¥ |
| Phase 2 | Phase 3 | â€¢ Token ç®¡ç†åŠŸèƒ½å®Œæ•´<br>â€¢ æ ¸å¿ƒ API ç¨³å®š<br>â€¢ é›†æˆæµ‹è¯•é€šè¿‡ | â€¢ æ€§èƒ½æµ‹è¯•é€šè¿‡<br>â€¢ æ–‡æ¡£å®Œå–„ | å¾…å®šä¹‰ |
| Phase 3 | Phase 4 | â€¢ æ¶ˆæ¯å‘é€åŠŸèƒ½å®Œæ•´<br>â€¢ æ¶ˆæ¯æ¥æ”¶åŠŸèƒ½å®Œæ•´ | â€¢ æ€§èƒ½æµ‹è¯•é€šè¿‡<br>â€¢ ç”¨æˆ·åé¦ˆæ”¶é›† | å¾…å®šä¹‰ |
| Phase 4 | Phase 5 | â€¢ æ–‡æ¡£+é€šè®¯å½•é›†æˆ<br>â€¢ æ‰€æœ‰ API æµ‹è¯•é€šè¿‡ | â€¢ è´Ÿè½½æµ‹è¯•é€šè¿‡<br>â€¢ å®‰å…¨å®¡è®¡å®Œæˆ | å¾…å®šä¹‰ |
| Phase 5 | v1.0 | â€¢ æ‰€æœ‰åŠŸèƒ½å®Œæˆ<br>â€¢ ç”Ÿäº§ç¯å¢ƒéªŒè¯<br>â€¢ æ€§èƒ½è¾¾æ ‡ | â€¢ è´Ÿè½½æµ‹è¯•é€šè¿‡<br>â€¢ å®‰å…¨åˆè§„è®¤è¯ | å¾…å®šä¹‰ |

**è¯´æ˜**:
- **å¿…è¦æ¡ä»¶**: ä¸æ»¡è¶³åˆ™æ— æ³•è¿›å…¥ä¸‹ä¸€ Phase
- **å»ºè®®æ¡ä»¶**: å»ºè®®æ»¡è¶³,ä½†ä¸é˜»å¡ Phase è¿‡æ¸¡
- **éªŒæ”¶æ ‡å‡†**: åŸºäº `/speckit.checklist` è¯„ä¼°ç»“æœ

---

## ğŸ“‹ ä»£ç å®¡æŸ¥æµç¨‹ (Code Review)

### å®¡æŸ¥æ¸…å•

#### åŠŸèƒ½å®¡æŸ¥
- [ ] åŠŸèƒ½å®ç°ç¬¦åˆéœ€æ±‚
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†æ­£ç¡®
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æµ‹è¯•è¦†ç›–å……åˆ†

#### ä»£ç è´¨é‡
- [ ] å‘½åæ¸…æ™°æ˜“æ‡‚
- [ ] å‡½æ•°/ç±»èŒè´£å•ä¸€
- [ ] é¿å…ä»£ç é‡å¤
- [ ] å¤æ‚åº¦å¯æ¥å—
- [ ] æ³¨é‡Šæ¸…æ™°å……åˆ†

#### ç±»å‹å®‰å…¨
- [ ] ç±»å‹æ³¨è§£å®Œæ•´
- [ ] Mypy æ£€æŸ¥é€šè¿‡
- [ ] æ—  type: ignore (æˆ–æœ‰æ­£å½“ç†ç”±)

#### å®‰å…¨æ€§
- [ ] æ— ç¡¬ç¼–ç å¯†é’¥
- [ ] è¾“å…¥éªŒè¯å®Œå–„
- [ ] SQL æ³¨å…¥é˜²æŠ¤
- [ ] æ•æ„Ÿä¿¡æ¯è„±æ•

#### æ–‡æ¡£
- [ ] Docstring å®Œæ•´ (Google Style)
- [ ] README æ›´æ–°
- [ ] CHANGELOG æ›´æ–°

### å®¡æŸ¥æµç¨‹

```
PR åˆ›å»º â†’ è‡ªåŠ¨æ£€æŸ¥ â†’ äººå·¥å®¡æŸ¥ â†’ åé¦ˆä¿®æ”¹ â†’ å®¡æ‰¹åˆå¹¶
```

**æ—¶æ•ˆè¦æ±‚**:
- å° PR (< 200 è¡Œ): 24 å°æ—¶å†…å®¡æŸ¥
- ä¸­ PR (200-500 è¡Œ): 48 å°æ—¶å†…å®¡æŸ¥
- å¤§ PR (> 500 è¡Œ): 72 å°æ—¶å†…å®¡æŸ¥ (å»ºè®®æ‹†åˆ†)

### PR æ¨¡æ¿

**`.github/PULL_REQUEST_TEMPLATE.md`**:

```markdown
## å˜æ›´ç±»å‹
- [ ] Feature (æ–°åŠŸèƒ½)
- [ ] Fix (Bug ä¿®å¤)
- [ ] Docs (æ–‡æ¡£)
- [ ] Refactor (é‡æ„)
- [ ] Test (æµ‹è¯•)

## åˆ†æ”¯ä¿¡æ¯
**åŠŸèƒ½åˆ†æ”¯**: `XXX-<æè¿°>`  
**Spec ç›®å½•**: `specs/XXX-<æè¿°>/`

## å˜æ›´æè¿°
[ç®€è¦æè¿°æ­¤ PR çš„ç›®çš„å’Œå†…å®¹]

## ç›¸å…³ Issue
Closes #<issue_number>

## Speckit æ–‡æ¡£
- [ ] `spec.md` - éœ€æ±‚è§„èŒƒå·²å®Œæˆ
- [ ] `plan.md` - å®æ–½è®¡åˆ’å·²å®Œæˆ
- [ ] `tasks.md` - ä»»åŠ¡æ¸…å•å·²å®Œæˆ
- [ ] `checklists/` - æ£€æŸ¥æ¸…å•å·²éªŒè¯

## æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•å·²æ·»åŠ /æ›´æ–°
- [ ] é›†æˆæµ‹è¯•å·²æ·»åŠ /æ›´æ–°
- [ ] æ‰‹åŠ¨æµ‹è¯•å·²å®Œæˆ
- [ ] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 75%

## ä»£ç è´¨é‡
- [ ] Ruff æ£€æŸ¥é€šè¿‡ (0 é”™è¯¯)
- [ ] Mypy æ£€æŸ¥é€šè¿‡ (99%+ è¦†ç›–ç‡)
- [ ] æ‰€æœ‰ Docstring å·²æ·»åŠ  (Google Style)
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ

## æ–‡æ¡£
- [ ] README å·²æ›´æ–° (å¦‚éœ€è¦)
- [ ] API æ–‡æ¡£å·²æ›´æ–° (å¦‚éœ€è¦)
- [ ] CHANGELOG å·²æ›´æ–°

## æˆªå›¾ (å¦‚é€‚ç”¨)
[æ·»åŠ æˆªå›¾]

## é¢å¤–è¯´æ˜
[å…¶ä»–éœ€è¦å®¡æŸ¥è€…æ³¨æ„çš„å†…å®¹]
```

---

## ğŸ“¦ äº¤ä»˜ç‰©å½’æ¡£ç­–ç•¥ (CHK116)

### å½’æ¡£æ—¶æœº

| äº‹ä»¶ | å½’æ¡£å†…å®¹ | ä½ç½® |
|------|---------|------|
| **Phase å®Œæˆ** | ä»£ç å¿«ç…§ + æ–‡æ¡£ | Git Tag |
| **ç‰ˆæœ¬å‘å¸ƒ** | Release åŒ… + Changelog | GitHub Releases |
| **é‡å¤§é‡Œç¨‹ç¢‘** | å®Œæ•´é¡¹ç›®å¤‡ä»½ | å¤–éƒ¨å­˜å‚¨ |

### å½’æ¡£å†…å®¹

#### 1. ä»£ç å½’æ¡£

```bash
# Git Tag (å·²åŒ…å«ä»£ç å¿«ç…§)
git tag -a v0.1.0 -m "Phase 1-2 å®Œæˆ"

# åˆ›å»ºå½’æ¡£åŒ…
git archive --format=tar.gz --prefix=lark-service-v0.1.0/ v0.1.0 > lark-service-v0.1.0.tar.gz
```

#### 2. æ–‡æ¡£å½’æ¡£

**å½’æ¡£ç»“æ„**:
```
archives/
  â””â”€â”€ v0.1.0/
      â”œâ”€â”€ source-code.tar.gz          # æºä»£ç 
      â”œâ”€â”€ docs/                       # æ–‡æ¡£å¿«ç…§
      â”œâ”€â”€ specs/                      # éœ€æ±‚è§„èŒƒ
      â”œâ”€â”€ test-reports/               # æµ‹è¯•æŠ¥å‘Š
      â”œâ”€â”€ coverage-report.html        # è¦†ç›–ç‡æŠ¥å‘Š
      â”œâ”€â”€ security-scan.json          # å®‰å…¨æ‰«æç»“æœ
      â””â”€â”€ CHANGELOG.md                # å˜æ›´æ—¥å¿—
```

#### 3. Release Notes

**ç¤ºä¾‹**:
```markdown
# Release v0.1.0 - Phase 1-2 å®Œæˆ

**å‘å¸ƒæ—¥æœŸ**: 2026-01-15  
**æ ‡ç­¾**: v0.1.0

## âœ¨ æ–°åŠŸèƒ½

- âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ (SQLite + åŠ å¯†)
- âœ… Token ç®¡ç†æ±  (è‡ªåŠ¨åˆ·æ–° + æŒä¹…åŒ–)
- âœ… PostgreSQL Token å­˜å‚¨
- âœ… RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—é›†æˆ
- âœ… CLI å·¥å…· (lark-service-cli)

## ğŸ”§ æ”¹è¿›

- SQLAlchemy å‡çº§åˆ° 2.0 (ç°ä»£è¯­æ³•)
- Mypy è¦†ç›–ç‡è¾¾åˆ° 99.8%
- æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 77.33%
- å®‰å…¨åˆè§„ (FR-077~095)

## ğŸ“Š è´¨é‡æŒ‡æ ‡

- æµ‹è¯•: 140/140 é€šè¿‡
- è¦†ç›–ç‡: 77.33%
- Mypy: 99.8%
- Ruff: 0 é”™è¯¯

## ğŸ“š æ–‡æ¡£

- 17 ä¸ªæ–‡æ¡£ (8,515 è¡Œ)
- 129 ä¸ªéœ€æ±‚æ¡ç›®
- å®Œæ•´çš„ API æ–‡æ¡£

## ğŸ”— èµ„æº

- [å®‰è£…æŒ‡å—](docs/quickstart.md)
- [API æ–‡æ¡£](docs/api.md)
- [æ¶æ„è®¾è®¡](docs/architecture.md)

## ğŸ“¦ ä¸‹è½½

- Source code (tar.gz)
- Source code (zip)
```

### GitHub Releases åˆ›å»º

```bash
# ä½¿ç”¨ GitHub CLI
gh release create v0.1.0 \
  --title "Release v0.1.0 - Phase 1-2 å®Œæˆ" \
  --notes-file RELEASE_NOTES.md \
  lark-service-v0.1.0.tar.gz
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### Speckit å‘½ä»¤

```bash
# åˆ›å»ºæ–°åŠŸèƒ½åˆ†æ”¯å’Œ spec ç›®å½•
/speckit.specify "Feature description"
/speckit.specify "Feature" --short-name "short-name"
/speckit.specify "Feature" --number 5

# ç”Ÿæˆå®æ–½è®¡åˆ’
/speckit.plan

# ç”Ÿæˆä»»åŠ¡æ¸…å•
/speckit.tasks

# è¿è¡Œæ£€æŸ¥æ¸…å•
/speckit.checklist

# åˆ†æéœ€æ±‚
/speckit.analyze

# æ¾„æ¸…éœ€æ±‚
/speckit.clarify
```

### åˆ†æ”¯ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (æ¨èä½¿ç”¨ Speckit)
/speckit.specify "New feature description"

# åˆ‡æ¢åˆ†æ”¯
git checkout 001-lark-service-core

# åˆ é™¤æœ¬åœ°åˆ†æ”¯
git branch -d 001-old-feature

# åˆ é™¤è¿œç¨‹åˆ†æ”¯
git push origin --delete 001-old-feature

# æŸ¥çœ‹åˆ†æ”¯å†å²
git log --graph --oneline --all

# æŸ¥çœ‹å½“å‰åˆ†æ”¯å¯¹åº”çš„ spec ç›®å½•
ls -la specs/$(git branch --show-current)/
```

### æ ‡ç­¾ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…
git show v0.1.0

# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v0.1.0

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin --delete v0.1.0

# æ£€å‡ºç‰¹å®šæ ‡ç­¾
git checkout v0.1.0
```

### åŒæ­¥æ›´æ–°

```bash
# åŒæ­¥è¿œç¨‹åˆ†æ”¯
git fetch origin

# æ‹‰å–å¹¶å˜åŸº
git pull --rebase origin develop

# æ¨é€æœ¬åœ°åˆ†æ”¯
git push -u origin feature/my-feature
```

---

## âœ… æµç¨‹æ£€æŸ¥æ¸…å•

### Git å·¥ä½œæµ
- [ ] åˆ†æ”¯ç­–ç•¥å·²å®šä¹‰
- [ ] åˆ†æ”¯å‘½åè§„èŒƒå·²éµå®ˆ
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒ
- [ ] ä»£ç å·²æ¨é€åˆ°è¿œç¨‹

### æ ‡ç­¾ç®¡ç†
- [ ] ç‰ˆæœ¬å·ç¬¦åˆ SemVer
- [ ] æ ‡ç­¾ä¿¡æ¯å®Œæ•´
- [ ] æ ‡ç­¾å·²æ¨é€åˆ°è¿œç¨‹

### Phase è¿‡æ¸¡
- [ ] å®Œæˆæ ‡å‡†å·²éªŒè¯
- [ ] æ£€æŸ¥æ¸…å•å·²å®Œæˆ
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] æ ‡ç­¾å·²åˆ›å»º

### ä»£ç å®¡æŸ¥
- [ ] PR å·²åˆ›å»º
- [ ] å®¡æŸ¥æ„è§å·²å¤„ç†
- [ ] CI æ£€æŸ¥å·²é€šè¿‡
- [ ] è‡³å°‘ 1 äººå®¡æ‰¹

### äº¤ä»˜å½’æ¡£
- [ ] Release Notes å·²åˆ›å»º
- [ ] GitHub Release å·²å‘å¸ƒ
- [ ] å½’æ¡£åŒ…å·²ç”Ÿæˆ
- [ ] æ–‡æ¡£å·²å½’æ¡£

---

**ç»´æŠ¤è€…**: Lark Service Team  
**å‚è€ƒ**: [git-workflow.md](./git-workflow.md)
