# Lark Service 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# ============================================
# PostgreSQL 配置 (Token 存储和用户缓存)
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=lark_service
POSTGRES_USER=lark
POSTGRES_PASSWORD=change_this_password_123

# ============================================
# RabbitMQ 配置 (消息队列)
# ============================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=lark
RABBITMQ_PASSWORD=change_this_password_123

# ============================================
# 加密密钥配置
# ============================================

# 应用配置加密密钥 (SQLite 应用配置加密)
# 生成方式: openssl rand -base64 32
LARK_CONFIG_ENCRYPTION_KEY=CHANGE_THIS_TO_RANDOM_32_BYTE_KEY

# Token 数据加密密钥 (PostgreSQL Token 加密,可选)
# 如果启用,取消注释并生成随机密钥
# LARK_TOKEN_ENCRYPTION_KEY=CHANGE_THIS_TO_RANDOM_32_BYTE_KEY

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=INFO

# ============================================
# 重要说明
# ============================================
#
# 1. 飞书应用凭证(App ID/Secret)不在此文件中配置
#    应用配置存储在 SQLite 数据库中,通过以下方式管理:
#
#    添加应用:
#    python -m lark_service.cli app add \
#      --app-id "cli_xxx" \
#      --app-secret "secret_xxx" \
#      --name "应用名称"
#
#    查看应用:
#    python -m lark_service.cli app list
#
# 2. 生产环境请务必:
#    - 修改所有默认密码为强密码
#    - 使用 openssl rand -base64 32 生成随机加密密钥
#    - 使用 Docker secrets 或 Kubernetes secrets 管理敏感信息
#    - 确保 .env 文件已添加到 .gitignore
#
# 3. 加密密钥说明:
#    - LARK_CONFIG_ENCRYPTION_KEY: 必需,用于加密 SQLite 中的 App Secret
#    - LARK_TOKEN_ENCRYPTION_KEY: 可选,用于加密 PostgreSQL 中的 Token
